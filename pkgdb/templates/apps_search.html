<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:py="http://genshi.edgewall.org/"
  xmlns:xi="http://www.w3.org/2001/XInclude"
  xml:lang="en" lang="en">
  <xi:include href="layout.html" />
  <?python
    from pkgdb.lib.dt_utils import fancy_delta
    from pkgdb.lib.text_utils import highlight
    from genshi import HTML
  ?>
  <head>
  </head>
  <body>
  <div id="main-pannel">
    <h2 style="color: #337acc;" >Applications</h2>
    <xi:include href="_apps_search.html" />

    <div class="app-search-result-box">
        <table>
        <tr py:for="app in app_list">
          <td class="col-icon"><a href="${tg.url('/applications/%s' % app['name'])}">
                <img src="${tg.url('/appicon/show/%s' % app['name'])}" />
              </a>
          </td>
          <td><div class="app-name"><a href="${tg.url('/applications/%s' % app['name'])}">${HTML(highlight(app['name'], pattern))}</a></div>${HTML(highlight(app['summary'], pattern))}</td>
          <td>
                ${HTML(highlight(app['descr'], pattern))} 
                <py:if test="app['usage']">
                <b>Usage:</b> ${HTML(highlight(', '.join(app['usage']), pattern))} 
                </py:if>
                <py:if test="app['tags']">
                <b>Tags:</b> ${HTML(highlight(', '.join(app['tags']), pattern))}
                </py:if>
                <py:if test="app['comments']">
                <b>Comments:</b> ${HTML(highlight(', '.join(app['comments']), pattern))}
                </py:if>
            </td>
        </tr>
        <tr py:if="len(app_list)==0">
          <td colspan="3">No application found</td>
        </tr>
        </table>
    </div>

  </div>

  </body>
</html>
