/*
	Copyright (c) 2004-2008, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is a compiled version of Dojo, built for deployment and not for
	development. To get an editable version, please visit:

		http://dojotoolkit.org

	for documentation and information on getting the source.
*/

dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojox.storage.Provider"],["provide","dojox.storage.manager"],["provide","dojo.gears"],["provide","dojox.sql._crypto"],["provide","dojox.sql._base"],["provide","dojox.sql"],["provide","dojox.storage.GearsStorageProvider"],["provide","dojox.storage.WhatWGStorageProvider"],["provide","dojo.AdapterRegistry"],["provide","dijit._base.place"],["provide","dojox.flash._base"],["provide","dojox.flash"],["provide","dojox.storage.FlashStorageProvider"],["provide","dojox.storage._common"],["provide","dojox.storage"],["provide","dojox.off.files"],["provide","dojox.off.sync"],["provide","dojox.off._common"],["provide","dojox.off"],["provide","dojox.off.ui"],["provide","dojox.off.offline"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojox.storage.Provider"]){_4._hasResource["dojox.storage.Provider"]=true;_4.provide("dojox.storage.Provider");_4.declare("dojox.storage.Provider",null,{constructor:function(){},SUCCESS:"success",FAILED:"failed",PENDING:"pending",SIZE_NOT_AVAILABLE:"Size not available",SIZE_NO_LIMIT:"No size limit",DEFAULT_NAMESPACE:"default",onHideSettingsUI:null,initialize:function(){console.warn("dojox.storage.initialize not implemented");},isAvailable:function(){console.warn("dojox.storage.isAvailable not implemented");},put:function(_7,_8,_9,_a){console.warn("dojox.storage.put not implemented");},get:function(_b,_c){console.warn("dojox.storage.get not implemented");},hasKey:function(_d,_e){return !!this.get(_d,_e);},getKeys:function(_f){console.warn("dojox.storage.getKeys not implemented");},clear:function(_10){console.warn("dojox.storage.clear not implemented");},remove:function(key,_12){console.warn("dojox.storage.remove not implemented");},getNamespaces:function(){console.warn("dojox.storage.getNamespaces not implemented");},isPermanent:function(){console.warn("dojox.storage.isPermanent not implemented");},getMaximumSize:function(){console.warn("dojox.storage.getMaximumSize not implemented");},putMultiple:function(_13,_14,_15,_16){for(var i=0;i<_13.length;i++){_6.storage.put(_13[i],_14[i],_15,_16);}},getMultiple:function(_18,_19){var _1a=[];for(var i=0;i<_18.length;i++){_1a.push(_6.storage.get(_18[i],_19));}return _1a;},removeMultiple:function(_1c,_1d){for(var i=0;i<_1c.length;i++){_6.storage.remove(_1c[i],_1d);}},isValidKeyArray:function(_1f){if(_1f===null||_1f===undefined||!_4.isArray(_1f)){return false;}return !_4.some(_1f,function(key){return !this.isValidKey(key);},this);},hasSettingsUI:function(){return false;},showSettingsUI:function(){console.warn("dojox.storage.showSettingsUI not implemented");},hideSettingsUI:function(){console.warn("dojox.storage.hideSettingsUI not implemented");},isValidKey:function(_21){if(_21===null||_21===undefined){return false;}return /^[0-9A-Za-z_]*$/.test(_21);},getResourceList:function(){return [];}});}if(!_4._hasResource["dojox.storage.manager"]){_4._hasResource["dojox.storage.manager"]=true;_4.provide("dojox.storage.manager");_6.storage.manager=new function(){this.currentProvider=null;this.available=false;this.providers=[];this._initialized=false;this._onLoadListeners=[];this.initialize=function(){this.autodetect();};this.register=function(_22,_23){this.providers.push(_23);this.providers[_22]=_23;};this.setProvider=function(_24){};this.autodetect=function(){if(this._initialized){return;}var _25=_4.config["forceStorageProvider"]||false;var _26;for(var i=0;i<this.providers.length;i++){_26=this.providers[i];if(_25&&_25==_26.declaredClass){_26.isAvailable();break;}else{if(!_25&&_26.isAvailable()){break;}}}if(!_26){this._initialized=true;this.available=false;this.currentProvider=null;console.warn("No storage provider found for this platform");this.loaded();return;}this.currentProvider=_26;_4.mixin(_6.storage,this.currentProvider);_6.storage.initialize();this._initialized=true;this.available=true;};this.isAvailable=function(){return this.available;};this.addOnLoad=function(_28){this._onLoadListeners.push(_28);if(this.isInitialized()){this._fireLoaded();}};this.removeOnLoad=function(_29){for(var i=0;i<this._onLoadListeners.length;i++){if(_29==this._onLoadListeners[i]){this._onLoadListeners=this._onLoadListeners.splice(i,1);break;}}};this.isInitialized=function(){if(this.currentProvider!=null&&this.currentProvider.declaredClass=="dojox.storage.FlashStorageProvider"&&_6.flash.ready==false){return false;}else{return this._initialized;}};this.supportsProvider=function(_2b){try{var _2c=eval("new "+_2b+"()");var _2d=_2c.isAvailable();if(!_2d){return false;}return _2d;}catch(e){return false;}};this.getProvider=function(){return this.currentProvider;};this.loaded=function(){this._fireLoaded();};this._fireLoaded=function(){_4.forEach(this._onLoadListeners,function(i){try{i();}catch(e){}});};this.getResourceList=function(){var _2f=[];_4.forEach(_6.storage.manager.providers,function(_30){_2f=_2f.concat(_30.getResourceList());});return _2f;};};}if(!_4._hasResource["dojo.gears"]){_4._hasResource["dojo.gears"]=true;_4.provide("dojo.gears");_4.gears._gearsObject=function(){var _31;var _32;var _33=_4.getObject("google.gears");if(_33){return _33;}if(typeof GearsFactory!="undefined"){_31=new GearsFactory();}else{if(_4.isIE){try{_31=new ActiveXObject("Gears.Factory");}catch(e){}}else{if(navigator.mimeTypes["application/x-googlegears"]){_31=document.createElement("object");_31.setAttribute("type","application/x-googlegears");_31.setAttribute("width",0);_31.setAttribute("height",0);_31.style.display="none";document.documentElement.appendChild(_31);}}}if(!_31){return null;}_4.setObject("google.gears.factory",_31);return _4.getObject("google.gears");};_4.gears.available=(!!_4.gears._gearsObject())||0;}if(!_4._hasResource["dojox.sql._crypto"]){_4._hasResource["dojox.sql._crypto"]=true;_4.provide("dojox.sql._crypto");_4.mixin(_6.sql._crypto,{_POOL_SIZE:100,encrypt:function(_34,_35,_36){this._initWorkerPool();var msg={plaintext:_34,password:_35};msg=_4.toJson(msg);msg="encr:"+String(msg);this._assignWork(msg,_36);},decrypt:function(_38,_39,_3a){this._initWorkerPool();var msg={ciphertext:_38,password:_39};msg=_4.toJson(msg);msg="decr:"+String(msg);this._assignWork(msg,_3a);},_initWorkerPool:function(){if(!this._manager){try{this._manager=google.gears.factory.create("beta.workerpool","1.0");this._unemployed=[];this._employed={};this._handleMessage=[];var _3c=this;this._manager.onmessage=function(msg,_3e){var _3f=_3c._employed["_"+_3e];_3c._employed["_"+_3e]=undefined;_3c._unemployed.push("_"+_3e);if(_3c._handleMessage.length){var _40=_3c._handleMessage.shift();_3c._assignWork(_40.msg,_40.callback);}_3f(msg);};var _41="function _workerInit(){"+"gearsWorkerPool.onmessage = "+String(this._workerHandler)+";"+"}";var _42=_41+" _workerInit();";for(var i=0;i<this._POOL_SIZE;i++){this._unemployed.push("_"+this._manager.createWorker(_42));}}catch(exp){throw exp.message||exp;}}},_assignWork:function(msg,_45){if(!this._handleMessage.length&&this._unemployed.length){var _46=this._unemployed.shift().substring(1);this._employed["_"+_46]=_45;this._manager.sendMessage(msg,parseInt(_46,10));}else{this._handleMessage={msg:msg,callback:_45};}},_workerHandler:function(msg,_48){var _49=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22];var _4a=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]];function Cipher(_4b,w){var Nb=4;var Nr=w.length/Nb-1;var _4f=[[],[],[],[]];for(var i=0;i<4*Nb;i++){_4f[i%4][Math.floor(i/4)]=_4b[i];}_4f=AddRoundKey(_4f,w,0,Nb);for(var _51=1;_51<Nr;_51++){_4f=SubBytes(_4f,Nb);_4f=ShiftRows(_4f,Nb);_4f=MixColumns(_4f,Nb);_4f=AddRoundKey(_4f,w,_51,Nb);}_4f=SubBytes(_4f,Nb);_4f=ShiftRows(_4f,Nb);_4f=AddRoundKey(_4f,w,Nr,Nb);var _52=new Array(4*Nb);for(var i=0;i<4*Nb;i++){_52[i]=_4f[i%4][Math.floor(i/4)];}return _52;};function SubBytes(s,Nb){for(var r=0;r<4;r++){for(var c=0;c<Nb;c++){s[r][c]=_49[s[r][c]];}}return s;};function ShiftRows(s,Nb){var t=new Array(4);for(var r=1;r<4;r++){for(var c=0;c<4;c++){t[c]=s[r][(c+r)%Nb];}for(var c=0;c<4;c++){s[r][c]=t[c];}}return s;};function MixColumns(s,Nb){for(var c=0;c<4;c++){var a=new Array(4);var b=new Array(4);for(var i=0;i<4;i++){a[i]=s[i][c];b[i]=s[i][c]&128?s[i][c]<<1^283:s[i][c]<<1;}s[0][c]=b[0]^a[1]^b[1]^a[2]^a[3];s[1][c]=a[0]^b[1]^a[2]^b[2]^a[3];s[2][c]=a[0]^a[1]^b[2]^a[3]^b[3];s[3][c]=a[0]^b[0]^a[1]^a[2]^b[3];}return s;};function AddRoundKey(_62,w,rnd,Nb){for(var r=0;r<4;r++){for(var c=0;c<Nb;c++){_62[r][c]^=w[rnd*4+c][r];}}return _62;};function KeyExpansion(key){var Nb=4;var Nk=key.length/4;var Nr=Nk+6;var w=new Array(Nb*(Nr+1));var _6d=new Array(4);for(var i=0;i<Nk;i++){var r=[key[4*i],key[4*i+1],key[4*i+2],key[4*i+3]];w[i]=r;}for(var i=Nk;i<(Nb*(Nr+1));i++){w[i]=new Array(4);for(var t=0;t<4;t++){_6d[t]=w[i-1][t];}if(i%Nk==0){_6d=SubWord(RotWord(_6d));for(var t=0;t<4;t++){_6d[t]^=_4a[i/Nk][t];}}else{if(Nk>6&&i%Nk==4){_6d=SubWord(_6d);}}for(var t=0;t<4;t++){w[i][t]=w[i-Nk][t]^_6d[t];}}return w;};function SubWord(w){for(var i=0;i<4;i++){w[i]=_49[w[i]];}return w;};function RotWord(w){w[4]=w[0];for(var i=0;i<4;i++){w[i]=w[i+1];}return w;};function AESEncryptCtr(_75,_76,_77){if(!(_77==128||_77==192||_77==256)){return "";}var _78=_77/8;var _79=new Array(_78);for(var i=0;i<_78;i++){_79[i]=_76.charCodeAt(i)&255;}var key=Cipher(_79,KeyExpansion(_79));key=key.concat(key.slice(0,_78-16));var _7c=16;var _7d=new Array(_7c);var _7e=(new Date()).getTime();for(var i=0;i<4;i++){_7d[i]=(_7e>>>i*8)&255;}for(var i=0;i<4;i++){_7d[i+4]=(_7e/4294967296>>>i*8)&255;}var _7f=KeyExpansion(key);var _80=Math.ceil(_75.length/_7c);var _81=new Array(_80);for(var b=0;b<_80;b++){for(var c=0;c<4;c++){_7d[15-c]=(b>>>c*8)&255;}for(var c=0;c<4;c++){_7d[15-c-4]=(b/4294967296>>>c*8);}var _84=Cipher(_7d,_7f);var _85=b<_80-1?_7c:(_75.length-1)%_7c+1;var ct="";for(var i=0;i<_85;i++){var _87=_75.charCodeAt(b*_7c+i);var _88=_87^_84[i];ct+=String.fromCharCode(_88);}_81[b]=escCtrlChars(ct);}var _89="";for(var i=0;i<8;i++){_89+=String.fromCharCode(_7d[i]);}_89=escCtrlChars(_89);return _89+"-"+_81.join("-");};function AESDecryptCtr(_8a,_8b,_8c){if(!(_8c==128||_8c==192||_8c==256)){return "";}var _8d=_8c/8;var _8e=new Array(_8d);for(var i=0;i<_8d;i++){_8e[i]=_8b.charCodeAt(i)&255;}var _90=KeyExpansion(_8e);var key=Cipher(_8e,_90);key=key.concat(key.slice(0,_8d-16));var _92=KeyExpansion(key);_8a=_8a.split("-");var _93=16;var _94=new Array(_93);var _95=unescCtrlChars(_8a[0]);for(var i=0;i<8;i++){_94[i]=_95.charCodeAt(i);}var _96=new Array(_8a.length-1);for(var b=1;b<_8a.length;b++){for(var c=0;c<4;c++){_94[15-c]=((b-1)>>>c*8)&255;}for(var c=0;c<4;c++){_94[15-c-4]=((b/4294967296-1)>>>c*8)&255;}var _99=Cipher(_94,_92);_8a[b]=unescCtrlChars(_8a[b]);var pt="";for(var i=0;i<_8a[b].length;i++){var _9b=_8a[b].charCodeAt(i);var _9c=_9b^_99[i];pt+=String.fromCharCode(_9c);}_96[b-1]=pt;}return _96.join("");};function escCtrlChars(str){return str.replace(/[\0\t\n\v\f\r\xa0!-]/g,function(c){return "!"+c.charCodeAt(0)+"!";});};function unescCtrlChars(str){return str.replace(/!\d\d?\d?!/g,function(c){return String.fromCharCode(c.slice(1,-1));});};function encrypt(_a1,_a2){return AESEncryptCtr(_a1,_a2,256);};function decrypt(_a3,_a4){return AESDecryptCtr(_a3,_a4,256);};var cmd=msg.substr(0,4);var arg=msg.substr(5);if(cmd=="encr"){arg=eval("("+arg+")");var _a7=arg.plaintext;var _a8=arg.password;var _a9=encrypt(_a7,_a8);gearsWorkerPool.sendMessage(String(_a9),_48);}else{if(cmd=="decr"){arg=eval("("+arg+")");var _aa=arg.ciphertext;var _a8=arg.password;var _a9=decrypt(_aa,_a8);gearsWorkerPool.sendMessage(String(_a9),_48);}}}});}if(!_4._hasResource["dojox.sql._base"]){_4._hasResource["dojox.sql._base"]=true;_4.provide("dojox.sql._base");_4.mixin(_6.sql,{dbName:null,debug:(_4.exists("dojox.sql.debug")?_6.sql.debug:false),open:function(_ab){if(this._dbOpen&&(!_ab||_ab==this.dbName)){return;}if(!this.dbName){this.dbName="dot_store_"+window.location.href.replace(/[^0-9A-Za-z_]/g,"_");if(this.dbName.length>63){this.dbName=this.dbName.substring(0,63);}}if(!_ab){_ab=this.dbName;}try{this._initDb();this.db.open(_ab);this._dbOpen=true;}catch(exp){throw exp.message||exp;}},close:function(_ac){if(_4.isIE){return;}if(!this._dbOpen&&(!_ac||_ac==this.dbName)){return;}if(!_ac){_ac=this.dbName;}try{this.db.close(_ac);this._dbOpen=false;}catch(exp){throw exp.message||exp;}},_exec:function(_ad){try{this._initDb();if(!this._dbOpen){this.open();this._autoClose=true;}var sql=null;var _af=null;var _b0=null;var _b1=_4._toArray(_ad);sql=_b1.splice(0,1)[0];if(this._needsEncrypt(sql)||this._needsDecrypt(sql)){_af=_b1.splice(_b1.length-1,1)[0];_b0=_b1.splice(_b1.length-1,1)[0];}if(this.debug){this._printDebugSQL(sql,_b1);}var _b2;if(this._needsEncrypt(sql)){_b2=new _6.sql._SQLCrypto("encrypt",sql,_b0,_b1,_af);return null;}else{if(this._needsDecrypt(sql)){_b2=new _6.sql._SQLCrypto("decrypt",sql,_b0,_b1,_af);return null;}}var rs=this.db.execute(sql,_b1);rs=this._normalizeResults(rs);if(this._autoClose){this.close();}return rs;}catch(exp){exp=exp.message||exp;if(this._autoClose){try{this.close();}catch(e){}}throw exp;}return null;},_initDb:function(){if(!this.db){try{this.db=google.gears.factory.create("beta.database","1.0");}catch(exp){_4.setObject("google.gears.denied",true);if(_6.off){_6.off.onFrameworkEvent("coreOperationFailed");}throw "Google Gears must be allowed to run";}}},_printDebugSQL:function(sql,_b5){var msg="dojox.sql(\""+sql+"\"";for(var i=0;i<_b5.length;i++){if(typeof _b5[i]=="string"){msg+=", \""+_b5[i]+"\"";}else{msg+=", "+_b5[i];}}msg+=")";},_normalizeResults:function(rs){var _b9=[];if(!rs){return [];}while(rs.isValidRow()){var row={};for(var i=0;i<rs.fieldCount();i++){var _bc=rs.fieldName(i);var _bd=rs.field(i);row[_bc]=_bd;}_b9.push(row);rs.next();}rs.close();return _b9;},_needsEncrypt:function(sql){return /encrypt\([^\)]*\)/i.test(sql);},_needsDecrypt:function(sql){return /decrypt\([^\)]*\)/i.test(sql);}});_4.declare("dojox.sql._SQLCrypto",null,{constructor:function(_c0,sql,_c2,_c3,_c4){if(_c0=="encrypt"){this._execEncryptSQL(sql,_c2,_c3,_c4);}else{this._execDecryptSQL(sql,_c2,_c3,_c4);}},_execEncryptSQL:function(sql,_c6,_c7,_c8){var _c9=this._stripCryptoSQL(sql);var _ca=this._flagEncryptedArgs(sql,_c7);var _cb=this;this._encrypt(_c9,_c6,_c7,_ca,function(_cc){var _cd=false;var _ce=[];var exp=null;try{_ce=_6.sql.db.execute(_c9,_cc);}catch(execError){_cd=true;exp=execError.message||execError;}if(exp!=null){if(_6.sql._autoClose){try{_6.sql.close();}catch(e){}}_c8(null,true,exp.toString());return;}_ce=_6.sql._normalizeResults(_ce);if(_6.sql._autoClose){_6.sql.close();}if(_6.sql._needsDecrypt(sql)){var _d0=_cb._determineDecryptedColumns(sql);_cb._decrypt(_ce,_d0,_c6,function(_d1){_c8(_d1,false,null);});}else{_c8(_ce,false,null);}});},_execDecryptSQL:function(sql,_d3,_d4,_d5){var _d6=this._stripCryptoSQL(sql);var _d7=this._determineDecryptedColumns(sql);var _d8=false;var _d9=[];var exp=null;try{_d9=_6.sql.db.execute(_d6,_d4);}catch(execError){_d8=true;exp=execError.message||execError;}if(exp!=null){if(_6.sql._autoClose){try{_6.sql.close();}catch(e){}}_d5(_d9,true,exp.toString());return;}_d9=_6.sql._normalizeResults(_d9);if(_6.sql._autoClose){_6.sql.close();}this._decrypt(_d9,_d7,_d3,function(_db){_d5(_db,false,null);});},_encrypt:function(sql,_dd,_de,_df,_e0){this._totalCrypto=0;this._finishedCrypto=0;this._finishedSpawningCrypto=false;this._finalArgs=_de;for(var i=0;i<_de.length;i++){if(_df[i]){var _e2=_de[i];var _e3=i;this._totalCrypto++;_6.sql._crypto.encrypt(_e2,_dd,_4.hitch(this,function(_e4){this._finalArgs[_e3]=_e4;this._finishedCrypto++;if(this._finishedCrypto>=this._totalCrypto&&this._finishedSpawningCrypto){_e0(this._finalArgs);}}));}}this._finishedSpawningCrypto=true;},_decrypt:function(_e5,_e6,_e7,_e8){this._totalCrypto=0;this._finishedCrypto=0;this._finishedSpawningCrypto=false;this._finalResultSet=_e5;for(var i=0;i<_e5.length;i++){var row=_e5[i];for(var _eb in row){if(_e6=="*"||_e6[_eb]){this._totalCrypto++;var _ec=row[_eb];this._decryptSingleColumn(_eb,_ec,_e7,i,function(_ed){_e8(_ed);});}}}this._finishedSpawningCrypto=true;},_stripCryptoSQL:function(sql){sql=sql.replace(/DECRYPT\(\*\)/ig,"*");var _ef=sql.match(/ENCRYPT\([^\)]*\)/ig);if(_ef!=null){for(var i=0;i<_ef.length;i++){var _f1=_ef[i];var _f2=_f1.match(/ENCRYPT\(([^\)]*)\)/i)[1];sql=sql.replace(_f1,_f2);}}_ef=sql.match(/DECRYPT\([^\)]*\)/ig);if(_ef!=null){for(i=0;i<_ef.length;i++){var _f3=_ef[i];var _f4=_f3.match(/DECRYPT\(([^\)]*)\)/i)[1];sql=sql.replace(_f3,_f4);}}return sql;},_flagEncryptedArgs:function(sql,_f6){var _f7=new RegExp(/([\"][^\"]*\?[^\"]*[\"])|([\'][^\']*\?[^\']*[\'])|(\?)/ig);var _f8;var _f9=0;var _fa=[];while((_f8=_f7.exec(sql))!=null){var _fb=RegExp.lastMatch+"";if(/^[\"\']/.test(_fb)){continue;}var _fc=false;if(/ENCRYPT\([^\)]*$/i.test(RegExp.leftContext)){_fc=true;}_fa[_f9]=_fc;_f9++;}return _fa;},_determineDecryptedColumns:function(sql){var _fe={};if(/DECRYPT\(\*\)/i.test(sql)){_fe="*";}else{var _ff=/DECRYPT\((?:\s*\w*\s*\,?)*\)/ig;var _100=_ff.exec(sql);while(_100){var _101=new String(RegExp.lastMatch);var _102=_101.replace(/DECRYPT\(/i,"");_102=_102.replace(/\)/,"");_102=_102.split(/\s*,\s*/);_4.forEach(_102,function(_103){if(/\s*\w* AS (\w*)/i.test(_103)){_103=_103.match(/\s*\w* AS (\w*)/i)[1];}_fe[_103]=true;});_100=_ff.exec(sql);}}return _fe;},_decryptSingleColumn:function(_104,_105,_106,_107,_108){_6.sql._crypto.decrypt(_105,_106,_4.hitch(this,function(_109){this._finalResultSet[_107][_104]=_109;this._finishedCrypto++;if(this._finishedCrypto>=this._totalCrypto&&this._finishedSpawningCrypto){_108(this._finalResultSet);}}));}});(function(){var _10a=_6.sql;_6.sql=new Function("return dojox.sql._exec(arguments);");_4.mixin(_6.sql,_10a);})();}if(!_4._hasResource["dojox.sql"]){_4._hasResource["dojox.sql"]=true;_4.provide("dojox.sql");}if(!_4._hasResource["dojox.storage.GearsStorageProvider"]){_4._hasResource["dojox.storage.GearsStorageProvider"]=true;_4.provide("dojox.storage.GearsStorageProvider");if(_4.gears.available){(function(){_4.declare("dojox.storage.GearsStorageProvider",_6.storage.Provider,{constructor:function(){},TABLE_NAME:"__DOJO_STORAGE",initialized:false,_available:null,_storageReady:false,initialize:function(){if(_4.config["disableGearsStorage"]==true){return;}this.TABLE_NAME="__DOJO_STORAGE";this.initialized=true;_6.storage.manager.loaded();},isAvailable:function(){return this._available=_4.gears.available;},put:function(key,_10c,_10d,_10e){this._initStorage();if(!this.isValidKey(key)){throw new Error("Invalid key given: "+key);}_10e=_10e||this.DEFAULT_NAMESPACE;if(!this.isValidKey(_10e)){throw new Error("Invalid namespace given: "+key);}if(_4.isString(_10c)){_10c="string:"+_10c;}else{_10c=_4.toJson(_10c);}try{_6.sql("DELETE FROM "+this.TABLE_NAME+" WHERE namespace = ? AND key = ?",_10e,key);_6.sql("INSERT INTO "+this.TABLE_NAME+" VALUES (?, ?, ?)",_10e,key,_10c);}catch(e){_10d(this.FAILED,key,e.toString(),_10e);return;}if(_10d){_10d(_6.storage.SUCCESS,key,null,_10e);}},get:function(key,_110){this._initStorage();if(!this.isValidKey(key)){throw new Error("Invalid key given: "+key);}_110=_110||this.DEFAULT_NAMESPACE;if(!this.isValidKey(_110)){throw new Error("Invalid namespace given: "+key);}var _111=_6.sql("SELECT * FROM "+this.TABLE_NAME+" WHERE namespace = ? AND "+" key = ?",_110,key);if(!_111.length){return null;}else{_111=_111[0].value;}if(_4.isString(_111)&&(/^string:/.test(_111))){_111=_111.substring("string:".length);}else{_111=_4.fromJson(_111);}return _111;},getNamespaces:function(){this._initStorage();var _112=[_6.storage.DEFAULT_NAMESPACE];var rs=_6.sql("SELECT namespace FROM "+this.TABLE_NAME+" DESC GROUP BY namespace");for(var i=0;i<rs.length;i++){if(rs[i].namespace!=_6.storage.DEFAULT_NAMESPACE){_112.push(rs[i].namespace);}}return _112;},getKeys:function(_115){this._initStorage();_115=_115||this.DEFAULT_NAMESPACE;if(!this.isValidKey(_115)){throw new Error("Invalid namespace given: "+_115);}var rs=_6.sql("SELECT key FROM "+this.TABLE_NAME+" WHERE namespace = ?",_115);var _117=[];for(var i=0;i<rs.length;i++){_117.push(rs[i].key);}return _117;},clear:function(_119){this._initStorage();_119=_119||this.DEFAULT_NAMESPACE;if(!this.isValidKey(_119)){throw new Error("Invalid namespace given: "+_119);}_6.sql("DELETE FROM "+this.TABLE_NAME+" WHERE namespace = ?",_119);},remove:function(key,_11b){this._initStorage();if(!this.isValidKey(key)){throw new Error("Invalid key given: "+key);}_11b=_11b||this.DEFAULT_NAMESPACE;if(!this.isValidKey(_11b)){throw new Error("Invalid namespace given: "+key);}_6.sql("DELETE FROM "+this.TABLE_NAME+" WHERE namespace = ? AND"+" key = ?",_11b,key);},putMultiple:function(keys,_11d,_11e,_11f){this._initStorage();if(!this.isValidKeyArray(keys)||!_11d instanceof Array||keys.length!=_11d.length){throw new Error("Invalid arguments: keys = ["+keys+"], values = ["+_11d+"]");}if(_11f==null||typeof _11f=="undefined"){_11f=_6.storage.DEFAULT_NAMESPACE;}if(!this.isValidKey(_11f)){throw new Error("Invalid namespace given: "+_11f);}this._statusHandler=_11e;try{_6.sql.open();_6.sql.db.execute("BEGIN TRANSACTION");var _120="REPLACE INTO "+this.TABLE_NAME+" VALUES (?, ?, ?)";for(var i=0;i<keys.length;i++){var _122=_11d[i];if(_4.isString(_122)){_122="string:"+_122;}else{_122=_4.toJson(_122);}_6.sql.db.execute(_120,[_11f,keys[i],_122]);}_6.sql.db.execute("COMMIT TRANSACTION");_6.sql.close();}catch(e){if(_11e){_11e(this.FAILED,keys,e.toString(),_11f);}return;}if(_11e){_11e(_6.storage.SUCCESS,keys,null,_11f);}},getMultiple:function(keys,_124){this._initStorage();if(!this.isValidKeyArray(keys)){throw new ("Invalid key array given: "+keys);}if(_124==null||typeof _124=="undefined"){_124=_6.storage.DEFAULT_NAMESPACE;}if(!this.isValidKey(_124)){throw new Error("Invalid namespace given: "+_124);}var _125="SELECT * FROM "+this.TABLE_NAME+" WHERE namespace = ? AND "+" key = ?";var _126=[];for(var i=0;i<keys.length;i++){var _128=_6.sql(_125,_124,keys[i]);if(!_128.length){_126[i]=null;}else{_128=_128[0].value;if(_4.isString(_128)&&(/^string:/.test(_128))){_126[i]=_128.substring("string:".length);}else{_126[i]=_4.fromJson(_128);}}}return _126;},removeMultiple:function(keys,_12a){this._initStorage();if(!this.isValidKeyArray(keys)||!values instanceof Array){throw new Error("Invalid arguments: keys = ["+keys+"]");}if(_12a==null||typeof _12a=="undefined"){_12a=_6.storage.DEFAULT_NAMESPACE;}if(!this.isValidKey(_12a)){throw new Error("Invalid namespace given: "+_12a);}_6.sql.open();_6.sql.db.execute("BEGIN TRANSACTION");var _12b="DELETE FROM "+this.TABLE_NAME+" WHERE namespace = ? AND key = ?";for(var i=0;i<keys.length;i++){_6.sql.db.execute(_12b,[_12a,keys[i]]);}_6.sql.db.execute("COMMIT TRANSACTION");_6.sql.close();},isPermanent:function(){return true;},getMaximumSize:function(){return this.SIZE_NO_LIMIT;},hasSettingsUI:function(){return false;},showSettingsUI:function(){throw new Error(this.declaredClass+" does not support a storage settings user-interface");},hideSettingsUI:function(){throw new Error(this.declaredClass+" does not support a storage settings user-interface");},_initStorage:function(){if(this._storageReady){return;}if(!google.gears.factory.hasPermission){var _12d=null;var icon=null;var msg="This site would like to use Google Gears to enable "+"enhanced functionality.";var _130=google.gears.factory.getPermission(_12d,icon,msg);if(!_130){throw new Error("You must give permission to use Gears in order to "+"store data");}}try{_6.sql("CREATE TABLE IF NOT EXISTS "+this.TABLE_NAME+"( "+" namespace TEXT, "+" key TEXT, "+" value TEXT "+")");_6.sql("CREATE UNIQUE INDEX IF NOT EXISTS namespace_key_index"+" ON "+this.TABLE_NAME+" (namespace, key)");}catch(e){throw new Error("Unable to create storage tables for Gears in "+"Dojo Storage");}this._storageReady=true;}});_6.storage.manager.register("dojox.storage.GearsStorageProvider",new _6.storage.GearsStorageProvider());})();}}if(!_4._hasResource["dojox.storage.WhatWGStorageProvider"]){_4._hasResource["dojox.storage.WhatWGStorageProvider"]=true;_4.provide("dojox.storage.WhatWGStorageProvider");_4.declare("dojox.storage.WhatWGStorageProvider",[_6.storage.Provider],{initialized:false,_domain:null,_available:null,_statusHandler:null,_allNamespaces:null,_storageEventListener:null,initialize:function(){if(_4.config["disableWhatWGStorage"]==true){return;}this._domain=this._getDomain();this.initialized=true;_6.storage.manager.loaded();},isAvailable:function(){try{var _131=globalStorage[this._getDomain()];}catch(e){this._available=false;return this._available;}this._available=true;return this._available;},put:function(key,_133,_134,_135){if(this.isValidKey(key)==false){throw new Error("Invalid key given: "+key);}_135=_135||this.DEFAULT_NAMESPACE;key=this.getFullKey(key,_135);this._statusHandler=_134;if(_4.isString(_133)){_133="string:"+_133;}else{_133=_4.toJson(_133);}var _136=_4.hitch(this,function(evt){window.removeEventListener("storage",_136,false);if(_134){_134.call(null,this.SUCCESS,key,null,_135);}});window.addEventListener("storage",_136,false);try{var _138=globalStorage[this._domain];_138.setItem(key,_133);}catch(e){this._statusHandler.call(null,this.FAILED,key,e.toString(),_135);}},get:function(key,_13a){if(this.isValidKey(key)==false){throw new Error("Invalid key given: "+key);}_13a=_13a||this.DEFAULT_NAMESPACE;key=this.getFullKey(key,_13a);var _13b=globalStorage[this._domain];var _13c=_13b.getItem(key);if(_13c==null||_13c==""){return null;}_13c=_13c.value;if(_4.isString(_13c)&&(/^string:/.test(_13c))){_13c=_13c.substring("string:".length);}else{_13c=_4.fromJson(_13c);}return _13c;},getNamespaces:function(){var _13d=[this.DEFAULT_NAMESPACE];var _13e={};var _13f=globalStorage[this._domain];var _140=/^__([^_]*)_/;for(var i=0;i<_13f.length;i++){var _142=_13f.key(i);if(_140.test(_142)==true){var _143=_142.match(_140)[1];if(typeof _13e[_143]=="undefined"){_13e[_143]=true;_13d.push(_143);}}}return _13d;},getKeys:function(_144){_144=_144||this.DEFAULT_NAMESPACE;if(this.isValidKey(_144)==false){throw new Error("Invalid namespace given: "+_144);}var _145;if(_144==this.DEFAULT_NAMESPACE){_145=new RegExp("^([^_]{2}.*)$");}else{_145=new RegExp("^__"+_144+"_(.*)$");}var _146=globalStorage[this._domain];var _147=[];for(var i=0;i<_146.length;i++){var _149=_146.key(i);if(_145.test(_149)==true){_149=_149.match(_145)[1];_147.push(_149);}}return _147;},clear:function(_14a){_14a=_14a||this.DEFAULT_NAMESPACE;if(this.isValidKey(_14a)==false){throw new Error("Invalid namespace given: "+_14a);}var _14b;if(_14a==this.DEFAULT_NAMESPACE){_14b=new RegExp("^[^_]{2}");}else{_14b=new RegExp("^__"+_14a+"_");}var _14c=globalStorage[this._domain];var keys=[];for(var i=0;i<_14c.length;i++){if(_14b.test(_14c.key(i))==true){keys[keys.length]=_14c.key(i);}}_4.forEach(keys,_4.hitch(_14c,"removeItem"));},remove:function(key,_150){key=this.getFullKey(key,_150);var _151=globalStorage[this._domain];_151.removeItem(key);},isPermanent:function(){return true;},getMaximumSize:function(){return this.SIZE_NO_LIMIT;},hasSettingsUI:function(){return false;},showSettingsUI:function(){throw new Error(this.declaredClass+" does not support a storage settings user-interface");},hideSettingsUI:function(){throw new Error(this.declaredClass+" does not support a storage settings user-interface");},getFullKey:function(key,_153){_153=_153||this.DEFAULT_NAMESPACE;if(this.isValidKey(_153)==false){throw new Error("Invalid namespace given: "+_153);}if(_153==this.DEFAULT_NAMESPACE){return key;}else{return "__"+_153+"_"+key;}},_getDomain:function(){return ((location.hostname=="localhost"&&_4.isFF&&_4.isFF<3)?"localhost.localdomain":location.hostname);}});_6.storage.manager.register("dojox.storage.WhatWGStorageProvider",new _6.storage.WhatWGStorageProvider());}if(!_4._hasResource["dojo.AdapterRegistry"]){_4._hasResource["dojo.AdapterRegistry"]=true;_4.provide("dojo.AdapterRegistry");_4.AdapterRegistry=function(_154){this.pairs=[];this.returnWrappers=_154||false;};_4.extend(_4.AdapterRegistry,{register:function(name,_156,wrap,_158,_159){this.pairs[((_159)?"unshift":"push")]([name,_156,wrap,_158]);},match:function(){for(var i=0;i<this.pairs.length;i++){var pair=this.pairs[i];if(pair[1].apply(this,arguments)){if((pair[3])||(this.returnWrappers)){return pair[2];}else{return pair[2].apply(this,arguments);}}}throw new Error("No match found");},unregister:function(name){for(var i=0;i<this.pairs.length;i++){var pair=this.pairs[i];if(pair[0]==name){this.pairs.splice(i,1);return true;}}return false;}});}if(!_4._hasResource["dijit._base.place"]){_4._hasResource["dijit._base.place"]=true;_4.provide("dijit._base.place");_5.getViewport=function(){var _15f=_4.global;var _160=_4.doc;var w=0,h=0;var de=_160.documentElement;var dew=de.clientWidth,deh=de.clientHeight;if(_4.isMozilla){var minw,minh,maxw,maxh;var dbw=_160.body.clientWidth;if(dbw>dew){minw=dew;maxw=dbw;}else{maxw=dew;minw=dbw;}var dbh=_160.body.clientHeight;if(dbh>deh){minh=deh;maxh=dbh;}else{maxh=deh;minh=dbh;}w=(maxw>_15f.innerWidth)?minw:maxw;h=(maxh>_15f.innerHeight)?minh:maxh;}else{if(!_4.isOpera&&_15f.innerWidth){w=_15f.innerWidth;h=_15f.innerHeight;}else{if(_4.isIE&&de&&deh){w=dew;h=deh;}else{if(_4.body().clientWidth){w=_4.body().clientWidth;h=_4.body().clientHeight;}}}}var _16c=_4._docScroll();return {w:w,h:h,l:_16c.x,t:_16c.y};};_5.placeOnScreen=function(node,pos,_16f,_170){var _171=_4.map(_16f,function(_172){return {corner:_172,pos:pos};});return _5._place(node,_171);};_5._place=function(node,_174,_175){var view=_5.getViewport();if(!node.parentNode||String(node.parentNode.tagName).toLowerCase()!="body"){_4.body().appendChild(node);}var best=null;_4.some(_174,function(_178){var _179=_178.corner;var pos=_178.pos;if(_175){_175(node,_178.aroundCorner,_179);}var _17b=node.style;var _17c=_17b.display;var _17d=_17b.visibility;_17b.visibility="hidden";_17b.display="";var mb=_4.marginBox(node);_17b.display=_17c;_17b.visibility=_17d;var _17f=(_179.charAt(1)=="L"?pos.x:Math.max(view.l,pos.x-mb.w)),_180=(_179.charAt(0)=="T"?pos.y:Math.max(view.t,pos.y-mb.h)),endX=(_179.charAt(1)=="L"?Math.min(view.l+view.w,_17f+mb.w):pos.x),endY=(_179.charAt(0)=="T"?Math.min(view.t+view.h,_180+mb.h):pos.y),_183=endX-_17f,_184=endY-_180,_185=(mb.w-_183)+(mb.h-_184);if(best==null||_185<best.overflow){best={corner:_179,aroundCorner:_178.aroundCorner,x:_17f,y:_180,w:_183,h:_184,overflow:_185};}return !_185;});node.style.left=best.x+"px";node.style.top=best.y+"px";if(best.overflow&&_175){_175(node,best.aroundCorner,best.corner);}return best;};_5.placeOnScreenAroundNode=function(node,_187,_188,_189){_187=_4.byId(_187);var _18a=_187.style.display;_187.style.display="";var _18b=_187.offsetWidth;var _18c=_187.offsetHeight;var _18d=_4.coords(_187,true);_187.style.display=_18a;return _5._placeOnScreenAroundRect(node,_18d.x,_18d.y,_18b,_18c,_188,_189);};_5.placeOnScreenAroundRectangle=function(node,_18f,_190,_191){return _5._placeOnScreenAroundRect(node,_18f.x,_18f.y,_18f.width,_18f.height,_190,_191);};_5._placeOnScreenAroundRect=function(node,x,y,_195,_196,_197,_198){var _199=[];for(var _19a in _197){_199.push({aroundCorner:_19a,corner:_197[_19a],pos:{x:x+(_19a.charAt(1)=="L"?0:_195),y:y+(_19a.charAt(0)=="T"?0:_196)}});}return _5._place(node,_199,_198);};_5.placementRegistry=new _4.AdapterRegistry();_5.placementRegistry.register("node",function(n,x){return typeof x=="object"&&typeof x.offsetWidth!="undefined"&&typeof x.offsetHeight!="undefined";},_5.placeOnScreenAroundNode);_5.placementRegistry.register("rect",function(n,x){return typeof x=="object"&&"x" in x&&"y" in x&&"width" in x&&"height" in x;},_5.placeOnScreenAroundRectangle);_5.placeOnScreenAroundElement=function(node,_1a0,_1a1,_1a2){return _5.placementRegistry.match.apply(_5.placementRegistry,arguments);};}if(!_4._hasResource["dojox.flash._base"]){_4._hasResource["dojox.flash._base"]=true;_4.provide("dojox.flash._base");_6.flash=function(){};_6.flash={ready:false,url:null,_visible:true,_loadedListeners:[],_installingListeners:[],setSwf:function(url,_1a4){this.url=url;this._visible=true;if(_1a4!==null&&typeof _1a4!=="undefined"){this._visible=_1a4;}this._initialize();},addLoadedListener:function(_1a5){this._loadedListeners.push(_1a5);},addInstallingListener:function(_1a6){this._installingListeners.push(_1a6);},loaded:function(){_6.flash.ready=true;if(_6.flash._loadedListeners.length>0){for(var i=0;i<_6.flash._loadedListeners.length;i++){_6.flash._loadedListeners[i].call(null);}}},installing:function(){if(_6.flash._installingListeners.length>0){for(var i=0;i<_6.flash._installingListeners.length;i++){_6.flash._installingListeners[i].call(null);}}},_initialize:function(){var _1a9=new _6.flash.Install();_6.flash.installer=_1a9;if(_1a9.needed()){_1a9.install();}else{_6.flash.obj=new _6.flash.Embed(this._visible);_6.flash.obj.write();_6.flash.comm=new _6.flash.Communicator();}}};_6.flash.Info=function(){this._detectVersion();};_6.flash.Info.prototype={version:-1,versionMajor:-1,versionMinor:-1,versionRevision:-1,capable:false,installing:false,isVersionOrAbove:function(_1aa,_1ab,_1ac){_1ac=parseFloat("."+_1ac);if(this.versionMajor>=_1aa&&this.versionMinor>=_1ab&&this.versionRevision>=_1ac){return true;}else{return false;}},_detectVersion:function(){var _1ad;for(var _1ae=25;_1ae>0;_1ae--){if(_4.isIE){var axo;try{if(_1ae>6){axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+_1ae);}else{axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");}if(typeof axo=="object"){if(_1ae==6){axo.AllowScriptAccess="always";}_1ad=axo.GetVariable("$version");}}catch(e){continue;}}else{_1ad=this._JSFlashInfo(_1ae);}if(_1ad==-1){this.capable=false;return;}else{if(_1ad!=0){var _1b0;if(_4.isIE){var _1b1=_1ad.split(" ");var _1b2=_1b1[1];_1b0=_1b2.split(",");}else{_1b0=_1ad.split(".");}this.versionMajor=_1b0[0];this.versionMinor=_1b0[1];this.versionRevision=_1b0[2];var _1b3=this.versionMajor+"."+this.versionRevision;this.version=parseFloat(_1b3);this.capable=true;break;}}}},_JSFlashInfo:function(_1b4){if(navigator.plugins!=null&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var _1b5=navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"";var _1b6=navigator.plugins["Shockwave Flash"+_1b5].description;var _1b7=_1b6.split(" ");var _1b8=_1b7[2].split(".");var _1b9=_1b8[0];var _1ba=_1b8[1];var _1bb=(_1b7[3]||_1b7[4]).split("r");var _1bc=_1bb[1]>0?_1bb[1]:0;var _1bd=_1b9+"."+_1ba+"."+_1bc;return _1bd;}}return -1;}};_6.flash.Embed=function(_1be){this._visible=_1be;};_6.flash.Embed.prototype={width:215,height:138,id:"flashObject",_visible:true,protocol:function(){switch(window.location.protocol){case "https:":return "https";break;default:return "http";break;}},write:function(_1bf){var _1c0;var _1c1=_6.flash.url;var _1c2=_1c1;var _1c3=_1c1;var _1c4=_4.baseUrl;var _1c5=document.location.protocol+"//"+document.location.host;if(_1bf){var _1c6=escape(window.location);document.title=document.title.slice(0,47)+" - Flash Player Installation";var _1c7=escape(document.title);_1c2+="?MMredirectURL="+_1c6+"&MMplayerType=ActiveX"+"&MMdoctitle="+_1c7+"&baseUrl="+escape(_1c4)+"&xdomain="+escape(_1c5);_1c3+="?MMredirectURL="+_1c6+"&MMplayerType=PlugIn"+"&baseUrl="+escape(_1c4)+"&xdomain="+escape(_1c5);}else{_1c2+="?cachebust="+new Date().getTime();_1c2+="&baseUrl="+escape(_1c4);_1c2+="&xdomain="+escape(_1c5);}if(_1c3.indexOf("?")==-1){_1c3+="?baseUrl="+escape(_1c4);}else{_1c3+="&baseUrl="+escape(_1c4);}_1c3+="&xdomain="+escape(_1c5);_1c0="<object classid=\"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000\" "+"codebase=\""+this.protocol()+"://fpdownload.macromedia.com/pub/shockwave/cabs/flash/"+"swflash.cab#version=8,0,0,0\"\n "+"width=\""+this.width+"\"\n "+"height=\""+this.height+"\"\n "+"id=\""+this.id+"\"\n "+"name=\""+this.id+"\"\n "+"align=\"middle\">\n "+"<param name=\"allowScriptAccess\" value=\"always\"></param>\n "+"<param name=\"movie\" value=\""+_1c2+"\"></param>\n "+"<param name=\"quality\" value=\"high\"></param>\n "+"<param name=\"bgcolor\" value=\"#ffffff\"></param>\n "+"<embed src=\""+_1c3+"\" "+"quality=\"high\" "+"bgcolor=\"#ffffff\" "+"width=\""+this.width+"\" "+"height=\""+this.height+"\" "+"id=\""+this.id+"Embed"+"\" "+"name=\""+this.id+"\" "+"swLiveConnect=\"true\" "+"align=\"middle\" "+"allowScriptAccess=\"always\" "+"type=\"application/x-shockwave-flash\" "+"pluginspage=\""+this.protocol()+"://www.macromedia.com/go/getflashplayer\" "+"></embed>\n"+"</object>\n";_4.connect(_4,"loaded",_4.hitch(this,function(){var _1c8=this.id+"Container";if(_4.byId(_1c8)){return;}var div=document.createElement("div");div.id=this.id+"Container";div.style.width=this.width+"px";div.style.height=this.height+"px";if(!this._visible){div.style.position="absolute";div.style.zIndex="10000";div.style.top="-1000px";div.style.left="-1000px";}div.innerHTML=_1c0;var body=document.getElementsByTagName("body");if(!body||!body.length){throw new Error("No body tag for this page");}body=body[0];body.appendChild(div);}));},get:function(){if(_4.isIE||_4.isSafari){return _4.byId(this.id);}else{return document[this.id+"Embed"];}},setVisible:function(_1cb){var _1cc=_4.byId(this.id+"Container");if(_1cb==true){_1cc.style.position="absolute";_1cc.style.visibility="visible";}else{_1cc.style.position="absolute";_1cc.style.x="-1000px";_1cc.style.y="-1000px";_1cc.style.visibility="hidden";}},center:function(){var _1cd=this.width;var _1ce=this.height;var _1cf=_5.getViewport();var x=_1cf.l+(_1cf.w-_1cd)/2;var y=_1cf.t+(_1cf.h-_1ce)/2;var _1d2=_4.byId(this.id+"Container");_1d2.style.top=y+"px";_1d2.style.left=x+"px";}};_6.flash.Communicator=function(){};_6.flash.Communicator.prototype={_addExternalInterfaceCallback:function(_1d3){var _1d4=_4.hitch(this,function(){var _1d5=new Array(arguments.length);for(var i=0;i<arguments.length;i++){_1d5[i]=this._encodeData(arguments[i]);}var _1d7=this._execFlash(_1d3,_1d5);_1d7=this._decodeData(_1d7);return _1d7;});this[_1d3]=_1d4;},_encodeData:function(data){if(!data||typeof data!="string"){return data;}data=data.replace("\\","&custom_backslash;");data=data.replace(/\0/g,"&custom_null;");return data;},_decodeData:function(data){if(data&&data.length&&typeof data!="string"){data=data[0];}if(!data||typeof data!="string"){return data;}data=data.replace(/\&custom_null\;/g," ");data=data.replace(/\&custom_lt\;/g,"<");data=data.replace(/\&custom_gt\;/g,">");data=data.replace(/\&custom_backslash\;/g,"\\");return data;},_execFlash:function(_1da,_1db){var _1dc=_6.flash.obj.get();_1db=(_1db)?_1db:[];for(var i=0;i<_1db;i++){if(typeof _1db[i]=="string"){_1db[i]=this._encodeData(_1db[i]);}}var _1de=function(){return eval(_1dc.CallFunction("<invoke name=\""+_1da+"\" returntype=\"javascript\">"+__flash__argumentsToXML(_1db,0)+"</invoke>"));};var _1df=_1de.call(_1db);if(typeof _1df=="string"){_1df=this._decodeData(_1df);}return _1df;}};_6.flash.Install=function(){};_6.flash.Install.prototype={needed:function(){if(_6.flash.info.capable==false){return true;}if(!_6.flash.info.isVersionOrAbove(8,0,0)){return true;}return false;},install:function(){var _1e0;_6.flash.info.installing=true;_6.flash.installing();if(_6.flash.info.capable==false){_1e0=new _6.flash.Embed(false);_1e0.write();}else{if(_6.flash.info.isVersionOrAbove(6,0,65)){_1e0=new _6.flash.Embed(false);_1e0.write(true);_1e0.setVisible(true);_1e0.center();}else{alert("This content requires a more recent version of the Macromedia "+" Flash Player.");window.location.href=+_6.flash.Embed.protocol()+"://www.macromedia.com/go/getflashplayer";}}},_onInstallStatus:function(msg){if(msg=="Download.Complete"){_6.flash._initialize();}else{if(msg=="Download.Cancelled"){alert("This content requires a more recent version of the Macromedia "+" Flash Player.");window.location.href=_6.flash.Embed.protocol()+"://www.macromedia.com/go/getflashplayer";}else{if(msg=="Download.Failed"){alert("There was an error downloading the Flash Player update. "+"Please try again later, or visit macromedia.com to download "+"the latest version of the Flash plugin.");}}}}};_6.flash.info=new _6.flash.Info();}if(!_4._hasResource["dojox.flash"]){_4._hasResource["dojox.flash"]=true;_4.provide("dojox.flash");}if(!_4._hasResource["dojox.storage.FlashStorageProvider"]){_4._hasResource["dojox.storage.FlashStorageProvider"]=true;_4.provide("dojox.storage.FlashStorageProvider");_4.declare("dojox.storage.FlashStorageProvider",_6.storage.Provider,{initialized:false,_available:null,_statusHandler:null,_flashReady:false,_pageReady:false,initialize:function(){if(_4.config["disableFlashStorage"]==true){return;}_6.flash.addLoadedListener(_4.hitch(this,function(){this._flashReady=true;if(this._flashReady&&this._pageReady){this._loaded();}}));var _1e2=_4.moduleUrl("dojox","storage/Storage.swf").toString();_6.flash.setSwf(_1e2,false);_4.connect(_4,"loaded",this,function(){this._pageReady=true;if(this._flashReady&&this._pageReady){this._loaded();}});},setFlushDelay:function(_1e3){if(_1e3===null||typeof _1e3==="undefined"||isNaN(_1e3)){throw new Error("Invalid argunment: "+_1e3);}_6.flash.comm.setFlushDelay(String(_1e3));},getFlushDelay:function(){return Number(_6.flash.comm.getFlushDelay());},flush:function(_1e4){if(_1e4==null||typeof _1e4=="undefined"){_1e4=_6.storage.DEFAULT_NAMESPACE;}_6.flash.comm.flush(_1e4);},isAvailable:function(){return (this._available=!_4.config["disableFlashStorage"]);},put:function(key,_1e6,_1e7,_1e8){if(!this.isValidKey(key)){throw new Error("Invalid key given: "+key);}if(!_1e8){_1e8=_6.storage.DEFAULT_NAMESPACE;}if(!this.isValidKey(_1e8)){throw new Error("Invalid namespace given: "+_1e8);}this._statusHandler=_1e7;if(_4.isString(_1e6)){_1e6="string:"+_1e6;}else{_1e6=_4.toJson(_1e6);}_6.flash.comm.put(key,_1e6,_1e8);},putMultiple:function(keys,_1ea,_1eb,_1ec){if(!this.isValidKeyArray(keys)||!_1ea instanceof Array||keys.length!=_1ea.length){throw new Error("Invalid arguments: keys = ["+keys+"], values = ["+_1ea+"]");}if(!_1ec){_1ec=_6.storage.DEFAULT_NAMESPACE;}if(!this.isValidKey(_1ec)){throw new Error("Invalid namespace given: "+_1ec);}this._statusHandler=_1eb;var _1ed=keys.join(",");var _1ee=[];for(var i=0;i<_1ea.length;i++){if(_4.isString(_1ea[i])){_1ea[i]="string:"+_1ea[i];}else{_1ea[i]=_4.toJson(_1ea[i]);}_1ee[i]=_1ea[i].length;}var _1f0=_1ea.join("");var _1f1=_1ee.join(",");_6.flash.comm.putMultiple(_1ed,_1f0,_1f1,_1ec);},get:function(key,_1f3){if(!this.isValidKey(key)){throw new Error("Invalid key given: "+key);}if(!_1f3){_1f3=_6.storage.DEFAULT_NAMESPACE;}if(!this.isValidKey(_1f3)){throw new Error("Invalid namespace given: "+_1f3);}var _1f4=_6.flash.comm.get(key,_1f3);if(_1f4==""){return null;}return this._destringify(_1f4);},getMultiple:function(keys,_1f6){if(!this.isValidKeyArray(keys)){throw new ("Invalid key array given: "+keys);}if(!_1f6){_1f6=_6.storage.DEFAULT_NAMESPACE;}if(!this.isValidKey(_1f6)){throw new Error("Invalid namespace given: "+_1f6);}var _1f7=keys.join(",");var _1f8=_6.flash.comm.getMultiple(_1f7,_1f6);var _1f9=eval("("+_1f8+")");for(var i=0;i<_1f9.length;i++){_1f9[i]=(_1f9[i]=="")?null:this._destringify(_1f9[i]);}return _1f9;},_destringify:function(_1fb){if(_4.isString(_1fb)&&(/^string:/.test(_1fb))){_1fb=_1fb.substring("string:".length);}else{_1fb=_4.fromJson(_1fb);}return _1fb;},getKeys:function(_1fc){if(!_1fc){_1fc=_6.storage.DEFAULT_NAMESPACE;}if(!this.isValidKey(_1fc)){throw new Error("Invalid namespace given: "+_1fc);}var _1fd=_6.flash.comm.getKeys(_1fc);if(_1fd==null||_1fd=="null"){_1fd="";}_1fd=_1fd.split(",");_1fd.sort();return _1fd;},getNamespaces:function(){var _1fe=_6.flash.comm.getNamespaces();if(_1fe==null||_1fe=="null"){_1fe=_6.storage.DEFAULT_NAMESPACE;}_1fe=_1fe.split(",");_1fe.sort();return _1fe;},clear:function(_1ff){if(!_1ff){_1ff=_6.storage.DEFAULT_NAMESPACE;}if(!this.isValidKey(_1ff)){throw new Error("Invalid namespace given: "+_1ff);}_6.flash.comm.clear(_1ff);},remove:function(key,_201){if(!_201){_201=_6.storage.DEFAULT_NAMESPACE;}if(!this.isValidKey(_201)){throw new Error("Invalid namespace given: "+_201);}_6.flash.comm.remove(key,_201);},removeMultiple:function(keys,_203){if(!this.isValidKeyArray(keys)){_4.raise("Invalid key array given: "+keys);}if(!_203){_203=_6.storage.DEFAULT_NAMESPACE;}if(!this.isValidKey(_203)){throw new Error("Invalid namespace given: "+_203);}var _204=keys.join(",");_6.flash.comm.removeMultiple(_204,_203);},isPermanent:function(){return true;},getMaximumSize:function(){return _6.storage.SIZE_NO_LIMIT;},hasSettingsUI:function(){return true;},showSettingsUI:function(){_6.flash.comm.showSettings();_6.flash.obj.setVisible(true);_6.flash.obj.center();},hideSettingsUI:function(){_6.flash.obj.setVisible(false);if(_4.isFunction(_6.storage.onHideSettingsUI)){_6.storage.onHideSettingsUI.call(null);}},getResourceList:function(){return [];},_loaded:function(){this._allNamespaces=this.getNamespaces();this.initialized=true;_6.storage.manager.loaded();},_onStatus:function(_205,key,_207){var ds=_6.storage;var dfo=_6.flash.obj;if(_205==ds.PENDING){dfo.center();dfo.setVisible(true);}else{dfo.setVisible(false);}if(ds._statusHandler){ds._statusHandler.call(null,_205,key,null,_207);}}});_6.storage.manager.register("dojox.storage.FlashStorageProvider",new _6.storage.FlashStorageProvider());}if(!_4._hasResource["dojox.storage._common"]){_4._hasResource["dojox.storage._common"]=true;_4.provide("dojox.storage._common");_6.storage.manager.initialize();}if(!_4._hasResource["dojox.storage"]){_4._hasResource["dojox.storage"]=true;_4.provide("dojox.storage");}if(!_4._hasResource["dojox.off.files"]){_4._hasResource["dojox.off.files"]=true;_4.provide("dojox.off.files");_6.off.files={versionURL:"version.js",listOfURLs:[],refreshing:false,_cancelID:null,_error:false,_errorMessages:[],_currentFileIndex:0,_store:null,_doSlurp:false,slurp:function(){this._doSlurp=true;},cache:function(_20a){if(_4.isString(_20a)){var url=this._trimAnchor(_20a+"");if(!this.isAvailable(url)){this.listOfURLs.push(url);}}else{if(_20a instanceof _4._Url){var url=this._trimAnchor(_20a.uri);if(!this.isAvailable(url)){this.listOfURLs.push(url);}}else{_4.forEach(_20a,function(url){url=this._trimAnchor(url);if(!this.isAvailable(url)){this.listOfURLs.push(url);}},this);}}},printURLs:function(){_4.forEach(this.listOfURLs,function(i){});},remove:function(url){for(var i=0;i<this.listOfURLs.length;i++){if(this.listOfURLs[i]==url){this.listOfURLs=this.listOfURLs.splice(i,1);break;}}},isAvailable:function(url){for(var i=0;i<this.listOfURLs.length;i++){if(this.listOfURLs[i]==url){return true;}}return false;},refresh:function(_212){try{if(_4.config.isDebug){this.printURLs();}this.refreshing=true;if(this.versionURL){this._getVersionInfo(function(_213,_214,_215){if(_4.config.isDebug||!_214||_215||!_213||_213!=_214){console.warn("Refreshing offline file list");this._doRefresh(_212,_214);}else{console.warn("No need to refresh offline file list");_212(false,[]);}});}else{console.warn("Refreshing offline file list");this._doRefresh(_212);}}catch(e){this.refreshing=false;_6.off.coreOpFailed=true;_6.off.enabled=false;_6.off.onFrameworkEvent("coreOperationFailed");}},abortRefresh:function(){if(!this.refreshing){return;}this._store.abortCapture(this._cancelID);this.refreshing=false;},_slurp:function(){if(!this._doSlurp){return;}var _216=_4.hitch(this,function(url){if(this._sameLocation(url)){this.cache(url);}});_216(window.location.href);_4.query("script").forEach(function(i){try{_216(i.getAttribute("src"));}catch(exp){}});_4.query("link").forEach(function(i){try{if(!i.getAttribute("rel")||i.getAttribute("rel").toLowerCase()!="stylesheet"){return;}_216(i.getAttribute("href"));}catch(exp){}});_4.query("img").forEach(function(i){try{_216(i.getAttribute("src"));}catch(exp){}});_4.query("a").forEach(function(i){try{_216(i.getAttribute("href"));}catch(exp){}});_4.forEach(document.styleSheets,function(_21c){try{if(_21c.cssRules){_4.forEach(_21c.cssRules,function(rule){var text=rule.cssText;if(text){var _21f=text.match(/url\(\s*([^\) ]*)\s*\)/i);if(!_21f){return;}for(var i=1;i<_21f.length;i++){_216(_21f[i]);}}});}else{if(_21c.cssText){var _221;var text=_21c.cssText.toString();var _223=text.split(/\f|\r|\n/);for(var i=0;i<_223.length;i++){_221=_223[i].match(/url\(\s*([^\) ]*)\s*\)/i);if(_221&&_221.length){_216(_221[1]);}}}}}catch(exp){}});},_sameLocation:function(url){if(!url){return false;}if(url.length&&url.charAt(0)=="#"){return false;}url=new _4._Url(url);if(!url.scheme&&!url.port&&!url.host){return true;}if(!url.scheme&&url.host&&url.port&&window.location.hostname==url.host&&window.location.port==url.port){return true;}if(!url.scheme&&url.host&&!url.port&&window.location.hostname==url.host&&window.location.port==80){return true;}return window.location.protocol==(url.scheme+":")&&window.location.hostname==url.host&&(window.location.port==url.port||!window.location.port&&!url.port);},_trimAnchor:function(url){return url.replace(/\#.*$/,"");},_doRefresh:function(_227,_228){var _229;try{_229=google.gears.factory.create("beta.localserver","1.0");}catch(exp){_4.setObject("google.gears.denied",true);_6.off.onFrameworkEvent("coreOperationFailed");throw "Google Gears must be allowed to run";}var _22a="dot_store_"+window.location.href.replace(/[^0-9A-Za-z_]/g,"_");if(_22a.length>=64){_22a=_22a.substring(0,63);}_229.removeStore(_22a);_229.openStore(_22a);var _22b=_229.createStore(_22a);this._store=_22b;var self=this;this._currentFileIndex=0;this._cancelID=_22b.capture(this.listOfURLs,function(url,_22e,_22f){if(!_22e&&self.refreshing){self._cancelID=null;self.refreshing=false;var _230=[];_230.push("Unable to capture: "+url);_227(true,_230);return;}else{if(_22e){self._currentFileIndex++;}}if(_22e&&self._currentFileIndex>=self.listOfURLs.length){self._cancelID=null;self.refreshing=false;if(_228){_6.storage.put("oldVersion",_228,null,_6.off.STORAGE_NAMESPACE);}_6.storage.put("justDebugged",_4.config.isDebug,null,_6.off.STORAGE_NAMESPACE);_227(false,[]);}});},_getVersionInfo:function(_231){var _232=_6.storage.get("justDebugged",_6.off.STORAGE_NAMESPACE);var _233=_6.storage.get("oldVersion",_6.off.STORAGE_NAMESPACE);var _234=null;_231=_4.hitch(this,_231);_4.xhrGet({url:this.versionURL+"?browserbust="+new Date().getTime(),timeout:5*1000,handleAs:"javascript",error:function(err){_6.storage.remove("oldVersion",_6.off.STORAGE_NAMESPACE);_6.storage.remove("justDebugged",_6.off.STORAGE_NAMESPACE);_231(_233,_234,_232);},load:function(data){if(data){_234=data;}_231(_233,_234,_232);}});}};}if(!_4._hasResource["dojox.off.sync"]){_4._hasResource["dojox.off.sync"]=true;_4.provide("dojox.off.sync");_4.mixin(_6.off.sync,{isSyncing:false,cancelled:false,successful:true,details:[],error:false,actions:null,autoSync:true,onSync:function(type){},synchronize:function(){if(this.isSyncing||_6.off.goingOnline||(!_6.off.isOnline)){return;}this.isSyncing=true;this.successful=false;this.details=[];this.cancelled=false;this.start();},cancel:function(){if(!this.isSyncing){return;}this.cancelled=true;if(_6.off.files.refreshing){_6.off.files.abortRefresh();}this.onSync("cancel");},finishedDownloading:function(_238,_239){if(typeof _238=="undefined"){_238=true;}if(!_238){this.successful=false;this.details.push(_239);this.error=true;}this.finished();},start:function(){if(this.cancelled){this.finished();return;}this.onSync("start");this.refreshFiles();},refreshFiles:function(){if(this.cancelled){this.finished();return;}this.onSync("refreshFiles");_6.off.files.refresh(_4.hitch(this,function(_23a,_23b){if(_23a){this.error=true;this.successful=false;for(var i=0;i<_23b.length;i++){this.details.push(_23b[i]);}}this.upload();}));},upload:function(){if(this.cancelled){this.finished();return;}this.onSync("upload");_4.connect(this.actions,"onReplayFinished",this,this.download);this.actions.replay();},download:function(){if(this.cancelled){this.finished();return;}this.onSync("download");},finished:function(){this.isSyncing=false;this.successful=(!this.cancelled&&!this.error);this.onSync("finished");},_save:function(_23d){this.actions._save(function(){_23d();});},_load:function(_23e){this.actions._load(function(){_23e();});}});_4.declare("dojox.off.sync.ActionLog",null,{entries:[],reasonHalted:null,isReplaying:false,autoSave:true,add:function(_23f){if(this.isReplaying){throw "Programming error: you can not call "+"dojox.off.sync.actions.add() while "+"we are replaying an action log";}this.entries.push(_23f);if(this.autoSave){this._save();}},onReplay:function(_240,_241){},length:function(){return this.entries.length;},haltReplay:function(_242){if(!this.isReplaying){return;}if(_242){this.reasonHalted=_242.toString();}if(this.autoSave){var self=this;this._save(function(){self.isReplaying=false;self.onReplayFinished();});}else{this.isReplaying=false;this.onReplayFinished();}},continueReplay:function(){if(!this.isReplaying){return;}this.entries.shift();if(!this.entries.length){if(this.autoSave){var self=this;this._save(function(){self.isReplaying=false;self.onReplayFinished();});return;}else{this.isReplaying=false;this.onReplayFinished();return;}}var _245=this.entries[0];this.onReplay(_245,this);},clear:function(){if(this.isReplaying){return;}this.entries=[];if(this.autoSave){this._save();}},replay:function(){if(this.isReplaying){return;}this.reasonHalted=null;if(!this.entries.length){this.onReplayFinished();return;}this.isReplaying=true;var _246=this.entries[0];this.onReplay(_246,this);},onReplayFinished:function(){},toString:function(){var _247="";_247+="[";for(var i=0;i<this.entries.length;i++){_247+="{";for(var j in this.entries[i]){_247+=j+": \""+this.entries[i][j]+"\"";_247+=", ";}_247+="}, ";}_247+="]";return _247;},_save:function(_24a){if(!_24a){_24a=function(){};}try{var self=this;var _24c=function(_24d,key,_24f){if(_24d==_6.storage.FAILED){_6.off.onFrameworkEvent("save",{status:_6.storage.FAILED,isCoreSave:true,key:key,value:_24f,namespace:_6.off.STORAGE_NAMESPACE});_24a();}else{if(_24d==_6.storage.SUCCESS){_24a();}}};_6.storage.put("actionlog",this.entries,_24c,_6.off.STORAGE_NAMESPACE);}catch(exp){_6.off.onFrameworkEvent("save",{status:_6.storage.FAILED,isCoreSave:true,key:"actionlog",value:this.entries,namespace:_6.off.STORAGE_NAMESPACE});_24a();}},_load:function(_250){var _251=_6.storage.get("actionlog",_6.off.STORAGE_NAMESPACE);if(!_251){_251=[];}this.entries=_251;_250();}});_6.off.sync.actions=new _6.off.sync.ActionLog();}if(!_4._hasResource["dojox.off._common"]){_4._hasResource["dojox.off._common"]=true;_4.provide("dojox.off._common");_4.mixin(_6.off,{isOnline:false,NET_CHECK:5,STORAGE_NAMESPACE:"_dot",enabled:true,availabilityURL:_4.moduleUrl("dojox","off/network_check.txt"),goingOnline:false,coreOpFailed:false,doNetChecking:true,hasOfflineCache:null,browserRestart:false,_STORAGE_APP_NAME:window.location.href.replace(/[^0-9A-Za-z_]/g,"_"),_initializeCalled:false,_storageLoaded:false,_pageLoaded:false,onLoad:function(){},onNetwork:function(type){},initialize:function(){this._initializeCalled=true;if(this._storageLoaded&&this._pageLoaded){this._onLoad();}},goOffline:function(){if((_6.off.sync.isSyncing)||(this.goingOnline)){return;}this.goingOnline=false;this.isOnline=false;},goOnline:function(_253){if(_6.off.sync.isSyncing||_6.off.goingOnline){return;}this.goingOnline=true;this.isOnline=false;this._isSiteAvailable(_253);},onFrameworkEvent:function(type,_255){if(type=="save"){if(_255.isCoreSave&&(_255.status==_6.storage.FAILED)){_6.off.coreOpFailed=true;_6.off.enabled=false;_6.off.onFrameworkEvent("coreOperationFailed");}}else{if(type=="coreOperationFailed"){_6.off.coreOpFailed=true;_6.off.enabled=false;}}},_checkOfflineCacheAvailable:function(_256){this.hasOfflineCache=_4.gears.available;_256();},_onLoad:function(){_6.off.files.cache(_4.moduleUrl("dojo","dojo.js"));this._cacheDojoResources();_6.off.files.cache(_6.storage.manager.getResourceList());_6.off.files._slurp();this._checkOfflineCacheAvailable(_4.hitch(this,"_onOfflineCacheChecked"));},_onOfflineCacheChecked:function(){if(this.hasOfflineCache&&this.enabled){this._load(_4.hitch(this,"_finishStartingUp"));}else{if(this.hasOfflineCache&&!this.enabled){this._finishStartingUp();}else{this._keepCheckingUntilInstalled();}}},_keepCheckingUntilInstalled:function(){this._finishStartingUp();},_finishStartingUp:function(){if(!this.hasOfflineCache){this.onLoad();}else{if(this.enabled){this._startNetworkThread();this.goOnline(_4.hitch(this,function(){_6.off.onLoad();}));}else{if(this.coreOpFailed){this.onFrameworkEvent("coreOperationFailed");}else{this.onLoad();}}}},_onPageLoad:function(){this._pageLoaded=true;if(this._storageLoaded&&this._initializeCalled){this._onLoad();}},_onStorageLoad:function(){this._storageLoaded=true;if(!_6.storage.manager.isAvailable()&&_6.storage.manager.isInitialized()){this.coreOpFailed=true;this.enabled=false;}if(this._pageLoaded&&this._initializeCalled){this._onLoad();}},_isSiteAvailable:function(_257){_4.xhrGet({url:this._getAvailabilityURL(),handleAs:"text",timeout:this.NET_CHECK*1000,error:_4.hitch(this,function(err){this.goingOnline=false;this.isOnline=false;if(_257){_257(false);}}),load:_4.hitch(this,function(data){this.goingOnline=false;this.isOnline=true;if(_257){_257(true);}else{this.onNetwork("online");}})});},_startNetworkThread:function(){if(!this.doNetChecking){return;}window.setInterval(_4.hitch(this,function(){var d=_4.xhrGet({url:this._getAvailabilityURL(),handleAs:"text",timeout:this.NET_CHECK*1000,error:_4.hitch(this,function(err){if(this.isOnline){this.isOnline=false;try{if(typeof d.ioArgs.xhr.abort=="function"){d.ioArgs.xhr.abort();}}catch(e){}_6.off.sync.isSyncing=false;this.onNetwork("offline");}}),load:_4.hitch(this,function(data){if(!this.isOnline){this.isOnline=true;this.onNetwork("online");}})});}),this.NET_CHECK*1000);},_getAvailabilityURL:function(){var url=this.availabilityURL.toString();if(url.indexOf("?")==-1){url+="?";}else{url+="&";}url+="browserbust="+new Date().getTime();return url;},_onOfflineCacheInstalled:function(){this.onFrameworkEvent("offlineCacheInstalled");},_cacheDojoResources:function(){var _25e=true;_4.forEach(_4.query("script"),function(i){var src=i.getAttribute("src");if(!src){return;}if(src.indexOf("_base/_loader/bootstrap.js")!=-1){_25e=false;}});if(!_25e){_6.off.files.cache(_4.moduleUrl("dojo","_base.js").uri);_6.off.files.cache(_4.moduleUrl("dojo","_base/_loader/loader.js").uri);_6.off.files.cache(_4.moduleUrl("dojo","_base/_loader/bootstrap.js").uri);_6.off.files.cache(_4.moduleUrl("dojo","_base/_loader/hostenv_browser.js").uri);}for(var i=0;i<_4._loadedUrls.length;i++){_6.off.files.cache(_4._loadedUrls[i]);}},_save:function(){},_load:function(_262){_6.off.sync._load(_262);}});_6.storage.manager.addOnLoad(_4.hitch(_6.off,"_onStorageLoad"));_4.addOnLoad(_6.off,"_onPageLoad");}if(!_4._hasResource["dojox.off"]){_4._hasResource["dojox.off"]=true;_4.provide("dojox.off");}if(!_4._hasResource["dojox.off.ui"]){_4._hasResource["dojox.off.ui"]=true;_4.provide("dojox.off.ui");_4.mixin(_6.off.ui,{appName:"setme",autoEmbed:true,autoEmbedID:"dot-widget",runLink:window.location.href,runLinkTitle:"Run Application",learnHowPath:_4.moduleUrl("dojox","off/resources/learnhow.html"),customLearnHowPath:false,htmlTemplatePath:_4.moduleUrl("dojox","off/resources/offline-widget.html").uri,cssTemplatePath:_4.moduleUrl("dojox","off/resources/offline-widget.css").uri,onlineImagePath:_4.moduleUrl("dojox","off/resources/greenball.png").uri,offlineImagePath:_4.moduleUrl("dojox","off/resources/redball.png").uri,rollerImagePath:_4.moduleUrl("dojox","off/resources/roller.gif").uri,checkmarkImagePath:_4.moduleUrl("dojox","off/resources/checkmark.png").uri,learnHowJSPath:_4.moduleUrl("dojox","off/resources/learnhow.js").uri,_initialized:false,onLoad:function(){},_initialize:function(){if(this._validateAppName(this.appName)==false){alert("You must set dojox.off.ui.appName; it can only contain "+"letters, numbers, and spaces; right now it "+"is incorrectly set to '"+_6.off.ui.appName+"'");_6.off.enabled=false;return;}this.runLinkText="Run "+this.appName;_4.connect(_6.off,"onNetwork",this,"_onNetwork");_4.connect(_6.off.sync,"onSync",this,"_onSync");_6.off.files.cache([this.htmlTemplatePath,this.cssTemplatePath,this.onlineImagePath,this.offlineImagePath,this.rollerImagePath,this.checkmarkImagePath]);if(this.autoEmbed){this._doAutoEmbed();}},_doAutoEmbed:function(){_4.xhrGet({url:this.htmlTemplatePath,handleAs:"text",error:function(err){_6.off.enabled=false;err=err.message||err;alert("Error loading the Dojo Offline Widget from "+this.htmlTemplatePath+": "+err);},load:_4.hitch(this,this._templateLoaded)});},_templateLoaded:function(data){var _265=_4.byId(this.autoEmbedID);if(_265){_265.innerHTML=data;}this._initImages();this._updateNetIndicator();this._initLearnHow();this._initialized=true;if(!_6.off.hasOfflineCache){this._showNeedsOfflineCache();return;}if(_6.off.hasOfflineCache&&_6.off.browserRestart){this._needsBrowserRestart();return;}else{var _266=_4.byId("dot-widget-browser-restart");if(_266){_266.style.display="none";}}this._updateSyncUI();this._initMainEvtHandlers();this._setOfflineEnabled(_6.off.enabled);this._onNetwork(_6.off.isOnline?"online":"offline");this._testNet();},_testNet:function(){_6.off.goOnline(_4.hitch(this,function(_267){this._onNetwork(_267?"online":"offline");this.onLoad();}));},_updateNetIndicator:function(){var _268=_4.byId("dot-widget-network-indicator-online");var _269=_4.byId("dot-widget-network-indicator-offline");var _26a=_4.byId("dot-widget-title-text");if(_268&&_269){if(_6.off.isOnline==true){_268.style.display="inline";_269.style.display="none";}else{_268.style.display="none";_269.style.display="inline";}}if(_26a){if(_6.off.isOnline){_26a.innerHTML="Online";}else{_26a.innerHTML="Offline";}}},_initLearnHow:function(){var _26b=_4.byId("dot-widget-learn-how-link");if(!_26b){return;}if(!this.customLearnHowPath){var _26c=_4.config.baseRelativePath;this.learnHowPath+="?appName="+encodeURIComponent(this.appName)+"&hasOfflineCache="+_6.off.hasOfflineCache+"&runLink="+encodeURIComponent(this.runLink)+"&runLinkText="+encodeURIComponent(this.runLinkText)+"&baseRelativePath="+encodeURIComponent(_26c);_6.off.files.cache(this.learnHowJSPath);_6.off.files.cache(this.learnHowPath);}_26b.setAttribute("href",this.learnHowPath);var _26d=_4.byId("dot-widget-learn-how-app-name");if(!_26d){return;}_26d.innerHTML="";_26d.appendChild(document.createTextNode(this.appName));},_validateAppName:function(_26e){if(!_26e){return false;}return (/^[a-z0-9 ]*$/i.test(_26e));},_updateSyncUI:function(){var _26f=_4.byId("dot-roller");var _270=_4.byId("dot-success-checkmark");var _271=_4.byId("dot-sync-messages");var _272=_4.byId("dot-sync-details");var _273=_4.byId("dot-sync-cancel");if(_6.off.sync.isSyncing){this._clearSyncMessage();if(_26f){_26f.style.display="inline";}if(_270){_270.style.display="none";}if(_271){_4.removeClass(_271,"dot-sync-error");}if(_272){_272.style.display="none";}if(_273){_273.style.display="inline";}}else{if(_26f){_26f.style.display="none";}if(_273){_273.style.display="none";}if(_271){_4.removeClass(_271,"dot-sync-error");}}},_setSyncMessage:function(_274){var _275=_4.byId("dot-sync-messages");if(_275){while(_275.firstChild){_275.removeChild(_275.firstChild);}_275.appendChild(document.createTextNode(_274));}},_clearSyncMessage:function(){this._setSyncMessage("");},_initImages:function(){var _276=_4.byId("dot-widget-network-indicator-online");if(_276){_276.setAttribute("src",this.onlineImagePath);}var _277=_4.byId("dot-widget-network-indicator-offline");if(_277){_277.setAttribute("src",this.offlineImagePath);}var _278=_4.byId("dot-roller");if(_278){_278.setAttribute("src",this.rollerImagePath);}var _279=_4.byId("dot-success-checkmark");if(_279){_279.setAttribute("src",this.checkmarkImagePath);}},_showDetails:function(evt){evt.preventDefault();evt.stopPropagation();if(!_6.off.sync.details.length){return;}var html="";html+="<html><head><title>Sync Details</title><head><body>";html+="<h1>Sync Details</h1>\n";html+="<ul>\n";for(var i=0;i<_6.off.sync.details.length;i++){html+="<li>";html+=_6.off.sync.details[i];html+="</li>";}html+="</ul>\n";html+="<a href='javascript:window.close()' "+"style='text-align: right; padding-right: 2em;'>"+"Close Window"+"</a>\n";html+="</body></html>";var _27d="height=400,width=600,resizable=true,"+"scrollbars=true,toolbar=no,menubar=no,"+"location=no,directories=no,dependent=yes";var _27e=window.open("","SyncDetails",_27d);if(!_27e){alert("Please allow popup windows for this domain; can't display sync details window");return;}_27e.document.open();_27e.document.write(html);_27e.document.close();if(_27e.focus){_27e.focus();}},_cancel:function(evt){evt.preventDefault();evt.stopPropagation();_6.off.sync.cancel();},_needsBrowserRestart:function(){var _280=_4.byId("dot-widget-browser-restart");if(_280){_4.addClass(_280,"dot-needs-browser-restart");}var _281=_4.byId("dot-widget-browser-restart-app-name");if(_281){_281.innerHTML="";_281.appendChild(document.createTextNode(this.appName));}var _282=_4.byId("dot-sync-status");if(_282){_282.style.display="none";}},_showNeedsOfflineCache:function(){var _283=_4.byId("dot-widget-container");if(_283){_4.addClass(_283,"dot-needs-offline-cache");}},_hideNeedsOfflineCache:function(){var _284=_4.byId("dot-widget-container");if(_284){_4.removeClass(_284,"dot-needs-offline-cache");}},_initMainEvtHandlers:function(){var _285=_4.byId("dot-sync-details-button");if(_285){_4.connect(_285,"onclick",this,this._showDetails);}var _286=_4.byId("dot-sync-cancel-button");if(_286){_4.connect(_286,"onclick",this,this._cancel);}},_setOfflineEnabled:function(_287){var _288=[];_288.push(_4.byId("dot-sync-status"));for(var i=0;i<_288.length;i++){if(_288[i]){_288[i].style.visibility=(_287?"visible":"hidden");}}},_syncFinished:function(){this._updateSyncUI();var _28a=_4.byId("dot-success-checkmark");var _28b=_4.byId("dot-sync-details");if(_6.off.sync.successful==true){this._setSyncMessage("Sync Successful");if(_28a){_28a.style.display="inline";}}else{if(_6.off.sync.cancelled==true){this._setSyncMessage("Sync Cancelled");if(_28a){_28a.style.display="none";}}else{this._setSyncMessage("Sync Error");var _28c=_4.byId("dot-sync-messages");if(_28c){_4.addClass(_28c,"dot-sync-error");}if(_28a){_28a.style.display="none";}}}if(_6.off.sync.details.length&&_28b){_28b.style.display="inline";}},_onFrameworkEvent:function(type,_28e){if(type=="save"){if(_28e.status==_6.storage.FAILED&&!_28e.isCoreSave){alert("Please increase the amount of local storage available "+"to this application");if(_6.storage.hasSettingsUI()){_6.storage.showSettingsUI();}}}else{if(type=="coreOperationFailed"){if(!this._userInformed){alert("This application will not work if Google Gears is not allowed to run");this._userInformed=true;}}else{if(type=="offlineCacheInstalled"){this._hideNeedsOfflineCache();if(_6.off.hasOfflineCache==true&&_6.off.browserRestart==true){this._needsBrowserRestart();return;}else{var _28f=_4.byId("dot-widget-browser-restart");if(_28f){_28f.style.display="none";}}this._updateSyncUI();this._initMainEvtHandlers();this._setOfflineEnabled(_6.off.enabled);this._testNet();}}}},_onSync:function(type){switch(type){case "start":this._updateSyncUI();break;case "refreshFiles":this._setSyncMessage("Downloading UI...");break;case "upload":this._setSyncMessage("Uploading new data...");break;case "download":this._setSyncMessage("Downloading new data...");break;case "finished":this._syncFinished();break;case "cancel":this._setSyncMessage("Canceling Sync...");break;default:_4.warn("Programming error: "+"Unknown sync type in dojox.off.ui: "+type);break;}},_onNetwork:function(type){if(!this._initialized){return;}this._updateNetIndicator();if(type=="offline"){this._setSyncMessage("You are working offline");var _292=_4.byId("dot-sync-details");if(_292){_292.style.display="none";}this._updateSyncUI();}else{if(_6.off.sync.autoSync){if(_4.isAIR){window.setTimeout(function(){_6.off.sync.synchronize();},1000);}else{window.setTimeout(_6._scopeName+".off.sync.synchronize()",1000);}}}}});_4.connect(_6.off,"onFrameworkEvent",_6.off.ui,"_onFrameworkEvent");_4.connect(_6.off,"onLoad",_6.off.ui,_6.off.ui._initialize);}if(!_4._hasResource["dojox.off.offline"]){_4._hasResource["dojox.off.offline"]=true;_4.provide("dojox.off.offline");}}};});
